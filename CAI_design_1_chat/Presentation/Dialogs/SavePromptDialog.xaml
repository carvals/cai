<?xml version="1.0" encoding="utf-8"?>
<ContentDialog x:Class="CAI_design_1_chat.Presentation.Dialogs.SavePromptDialog"
               xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
               xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
               Title="Save Prompt Instruction"
               PrimaryButtonText="Save"
               SecondaryButtonText="Cancel"
               DefaultButton="Primary"
               Background="{ThemeResource MaterialSurfaceBrush}"
               Foreground="{ThemeResource MaterialOnSurfaceBrush}"
               BorderBrush="{ThemeResource MaterialOutlineVariantBrush}"
               CornerRadius="12"
               MaxWidth="600"
               MaxHeight="700">

    <ScrollViewer Margin="24" VerticalScrollBarVisibility="Auto">
        <StackPanel Spacing="16">
            <!-- Title Field -->
            <StackPanel Spacing="4">
                <TextBlock Text="Title*"
                           Style="{ThemeResource CaptionTextBlockStyle}"
                           Foreground="{ThemeResource MaterialOnSurfaceBrush}"
                           FontWeight="SemiBold"/>
                <TextBox x:Name="TitleTextBox"
                         PlaceholderText="Enter a descriptive title..."
                         Background="{ThemeResource MaterialSurfaceVariantBrush}"
                         BorderBrush="{ThemeResource MaterialOutlineVariantBrush}"
                         BorderThickness="1"
                         CornerRadius="8"
                         Padding="12"
                         TextChanged="ValidateForm"/>
            </StackPanel>

            <!-- Type Field -->
            <StackPanel Spacing="4">
                <TextBlock Text="Type*"
                           Style="{ThemeResource CaptionTextBlockStyle}"
                           Foreground="{ThemeResource MaterialOnSurfaceBrush}"
                           FontWeight="SemiBold"/>
                <ComboBox x:Name="TypeComboBox"
                          Background="{ThemeResource MaterialSurfaceVariantBrush}"
                          BorderBrush="{ThemeResource MaterialOutlineVariantBrush}"
                          BorderThickness="1"
                          CornerRadius="8"
                          Padding="12"
                          HorizontalAlignment="Stretch"
                          SelectionChanged="ValidateForm">
                    <ComboBoxItem Content="Summary" Tag="summary"/>
                    <ComboBoxItem Content="Extraction" Tag="extraction"/>
                    <ComboBoxItem Content="Analysis" Tag="analysis"/>
                    <ComboBoxItem Content="Custom" Tag="custom"/>
                </ComboBox>
            </StackPanel>

            <!-- Language Field -->
            <StackPanel Spacing="4">
                <TextBlock Text="Language*"
                           Style="{ThemeResource CaptionTextBlockStyle}"
                           Foreground="{ThemeResource MaterialOnSurfaceBrush}"
                           FontWeight="SemiBold"/>
                <ComboBox x:Name="LanguageComboBox"
                          Background="{ThemeResource MaterialSurfaceVariantBrush}"
                          BorderBrush="{ThemeResource MaterialOutlineVariantBrush}"
                          BorderThickness="1"
                          CornerRadius="8"
                          Padding="12"
                          HorizontalAlignment="Stretch"
                          SelectionChanged="ValidateForm">
                    <ComboBoxItem Content="French (fr)" Tag="fr"/>
                    <ComboBoxItem Content="English (en)" Tag="en"/>
                    <ComboBoxItem Content="Spanish (es)" Tag="es"/>
                    <ComboBoxItem Content="German (de)" Tag="de"/>
                    <ComboBoxItem Content="Italian (it)" Tag="it"/>
                    <ComboBoxItem Content="Portuguese (pt)" Tag="pt"/>
                    <ComboBoxItem Content="Dutch (nl)" Tag="nl"/>
                    <ComboBoxItem Content="Russian (ru)" Tag="ru"/>
                    <ComboBoxItem Content="Japanese (ja)" Tag="ja"/>
                    <ComboBoxItem Content="Chinese (zh)" Tag="zh"/>
                </ComboBox>
            </StackPanel>

            <!-- Description Field -->
            <StackPanel Spacing="4">
                <TextBlock Text="Description"
                           Style="{ThemeResource CaptionTextBlockStyle}"
                           Foreground="{ThemeResource MaterialOnSurfaceBrush}"
                           FontWeight="SemiBold"/>
                <TextBox x:Name="DescriptionTextBox"
                         PlaceholderText="Optional description for this prompt..."
                         Background="{ThemeResource MaterialSurfaceVariantBrush}"
                         BorderBrush="{ThemeResource MaterialOutlineVariantBrush}"
                         BorderThickness="1"
                         CornerRadius="8"
                         Padding="12"
                         MinHeight="60"
                         TextWrapping="Wrap"
                         AcceptsReturn="True"/>
            </StackPanel>

            <!-- Instruction Field -->
            <StackPanel Spacing="4">
                <TextBlock Text="Instruction*"
                           Style="{ThemeResource CaptionTextBlockStyle}"
                           Foreground="{ThemeResource MaterialOnSurfaceBrush}"
                           FontWeight="SemiBold"/>
                <TextBox x:Name="InstructionTextBox"
                         Background="{ThemeResource MaterialSurfaceVariantBrush}"
                         BorderBrush="{ThemeResource MaterialOutlineVariantBrush}"
                         BorderThickness="1"
                         CornerRadius="8"
                         Padding="12"
                         MinHeight="120"
                         MaxHeight="200"
                         TextWrapping="Wrap"
                         AcceptsReturn="True"
                         ScrollViewer.VerticalScrollBarVisibility="Auto"
                         TextChanged="ValidateForm"/>
            </StackPanel>

            <!-- Created By Field -->
            <StackPanel Spacing="4">
                <TextBlock Text="Created by"
                           Style="{ThemeResource CaptionTextBlockStyle}"
                           Foreground="{ThemeResource MaterialOnSurfaceBrush}"
                           FontWeight="SemiBold"/>
                <TextBox x:Name="CreatedByTextBox"
                         Background="{ThemeResource MaterialSurfaceVariantBrush}"
                         BorderBrush="{ThemeResource MaterialOutlineVariantBrush}"
                         BorderThickness="1"
                         CornerRadius="8"
                         Padding="12"
                         IsReadOnly="True"/>
            </StackPanel>

            <!-- System Prompt Checkbox -->
            <CheckBox x:Name="IsSystemCheckBox"
                      Content="Mark as System Prompt"
                      Foreground="{ThemeResource MaterialOnSurfaceBrush}"
                      Margin="0,8,0,0"/>

            <!-- Validation Message -->
            <TextBlock x:Name="ValidationMessageTextBlock"
                       Style="{ThemeResource CaptionTextBlockStyle}"
                       Foreground="{ThemeResource SystemErrorTextColor}"
                       Visibility="Collapsed"
                       TextWrapping="Wrap"/>
        </StackPanel>
    </ScrollViewer>
</ContentDialog>
